<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C-Square Admin Panel</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: #0a0a0f;
            color: #e8e8f0;
            padding: 20px;
        }

        .admin-container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #00ffff;
            border-radius: 15px;
            padding: 30px;
            backdrop-filter: blur(20px);
        }

        h1 {
            font-family: 'Orbitron', monospace;
            color: #00ffff;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5rem;
        }

        .section {
            margin-bottom: 40px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(0, 255, 255, 0.3);
            border-radius: 10px;
        }

        .section h2 {
            font-family: 'Orbitron', monospace;
            color: #ff00ff;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #00ffff;
            font-weight: 600;
        }

        input, textarea, select {
            width: 100%;
            padding: 12px;
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid rgba(0, 255, 255, 0.3);
            border-radius: 8px;
            color: #ffffff;
            font-family: 'Rajdhani', sans-serif;
            font-size: 1rem;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #00ffff;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        }

        button {
            background: linear-gradient(45deg, #00ffff, #ff00ff);
            color: #000000;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-family: 'Orbitron', monospace;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-right: 10px;
            margin-bottom: 10px;
        }

        button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
        }

        .btn-danger {
            background: linear-gradient(45deg, #ff0000, #ff6600);
        }

        .items-list {
            margin-top: 20px;
        }

        .item-card {
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .item-info {
            flex: 1;
        }

        .item-title {
            color: #00ffff;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .item-details {
            color: #cccccc;
            font-size: 0.9rem;
        }

        .item-actions {
            display: flex;
            gap: 10px;
        }

        .btn-small {
            padding: 6px 12px;
            font-size: 0.8rem;
        }

        .back-link {
            display: inline-block;
            color: #00ffff;
            text-decoration: none;
            margin-bottom: 20px;
            padding: 10px 20px;
            border: 2px solid #00ffff;
            border-radius: 25px;
            transition: all 0.3s ease;
        }

        .back-link:hover {
            background: #00ffff;
            color: #000000;
        }

        .export-section {
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 0, 0.1);
            border-radius: 10px;
            margin-top: 20px;
        }

        .export-info {
            color: #ffff00;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="admin-container">
        <a href="index.html" class="back-link">‚Üê Back to Main Site</a>

        <h1>üõ†Ô∏è C-Square Admin Panel</h1>

        <!-- Events Section -->
        <div class="section">
            <h2>üìÖ Manage Events</h2>

            <div class="form-group">
                <label for="eventType">Event Type:</label>
                <select id="eventType">
                    <option value="upcoming">Upcoming Event</option>
                    <option value="past">Past Event</option>
                </select>
            </div>

            <div class="form-group">
                <label for="eventDate">Event Date:</label>
                <input type="text" id="eventDate" placeholder="e.g., Dec 15, 2024 - Dec 17, 2024">
            </div>

            <div class="form-group">
                <label for="eventTitle">Event Title:</label>
                <input type="text" id="eventTitle" placeholder="e.g., Winter Hackathon 2024">
            </div>

            <div class="form-group">
                <label for="eventDescription">Event Description:</label>
                <textarea id="eventDescription" rows="3" placeholder="Brief description of the event..."></textarea>
            </div>

            <div class="form-group">
                <label for="eventLink">Event Link (Optional):</label>
                <input type="url" id="eventLink" placeholder="e.g., https://example.com/event-details">
            </div>

            <div class="form-group">
                <label for="eventLinkText">Link Text (Optional):</label>
                <input type="text" id="eventLinkText" placeholder="e.g., Register Now or Learn More">
            </div>

            <button onclick="addEvent()">Add Event</button>
            <button onclick="exportEvents()">Export Events Data</button>

            <div class="items-list" id="eventsList"></div>
        </div>

        <!-- Team Members Section -->
        <div class="section">
            <h2>üë• Manage Team Members</h2>

            <div class="form-group">
                <label for="memberName">Member Name:</label>
                <input type="text" id="memberName" placeholder="e.g., Alex Smith">
            </div>

            <div class="form-group">
                <label for="memberPosition">Position:</label>
                <input type="text" id="memberPosition" placeholder="e.g., President">
            </div>

            <div class="form-group">
                <label for="memberBio">Bio:</label>
                <textarea id="memberBio" rows="3" placeholder="Brief bio about the member..."></textarea>
            </div>

            <div class="form-group">
                <label for="memberInitials">Initials (for avatar):</label>
                <input type="text" id="memberInitials" placeholder="e.g., AS" maxlength="3">
            </div>

            <div class="form-group">
                <label>Photo URL (optional):</label>
                <input type="url" id="teamPhoto" placeholder="https://example.com/photo.jpg">
            </div>

            <button onclick="addTeamMember()">Add Team Member</button>
            <button onclick="exportTeamMembers()">Export Team Data</button>

            <div class="items-list" id="teamList"></div>
        </div>

        <!-- Export Section -->
        <div class="section">
            <h2>üì§ Export Data</h2>
            <p>Export your data to update the main website:</p>
            <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                <button onclick="exportEvents()">Export Events</button>
                <button onclick="exportTeamMembers()">Export Team Members</button>
                <button onclick="exportAllData()" style="background: linear-gradient(45deg, #00ffff, #ff00ff);">Export All Data</button>
            </div>
        </div>

        <div class="section">
            <h2>üîÑ Quick Actions</h2>
            <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                <button onclick="location.reload()">Refresh Page</button>
                <button onclick="window.open('index.html', '_blank')">View Main Site</button>
                <button onclick="clearAllData()" style="background: #ff4444;">‚ö†Ô∏è Clear All Data</button>
            </div>
        </div>
    </div>

    <script src="auth.js"></script>
    <script>
        // Load data from localStorage
        let events = JSON.parse(localStorage.getItem('c-square-events') || '[]');
        let teamMembers = JSON.parse(localStorage.getItem('c-square-team') || '[]');

        // Initialize with default data if empty
        if (events.length === 0) {
            events = [
                {
                    type: 'upcoming',
                    date: 'Dec 15, 2024 - Dec 17, 2024',
                    title: 'Winter Hackathon 2024',
                    description: 'Join us for our biggest hackathon of the year! Build innovative solutions, learn new technologies, and compete for amazing prizes.',
                    link: 'https://example.com/hackathon2024',
                    linkText: 'Register Now!'
                },
                {
                    type: 'upcoming',
                    date: 'Jan 10, 2025',
                    title: 'AI/ML Workshop',
                    description: 'Dive deep into Artificial Intelligence and Machine Learning with hands-on workshops led by industry experts.',
                    link: 'https://example.com/ai-ml-workshop',
                    linkText: 'Sign Up'
                }
            ];
            saveEvents();
        }

        if (teamMembers.length === 0) {
            teamMembers = [
                {
                    name: 'Alex Smith',
                    position: 'President',
                    bio: 'Leading C-Square with vision for innovation and community growth in the tech space.',
                    initials: 'AS',
                    photo: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200&h=200&fit=crop&crop=face'
                },
                {
                    name: 'Maria Johnson',
                    position: 'Vice President',
                    bio: 'Coordinating events and fostering member engagement across all club activities.',
                    initials: 'MJ',
                    photo: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=200&h=200&fit=crop&crop=face'
                },
                {
                    name: 'David Lee',
                    position: 'Technical Lead',
                    bio: 'Overseeing technical projects and mentoring developers in cutting-edge technologies.',
                    initials: 'DL',
                    photo: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=200&h=200&fit=crop&crop=face'
                }
            ];
            saveTeamMembers();
        }

        function saveEvents() {
            localStorage.setItem('c-square-events', JSON.stringify(events));
        }

        function saveTeamMembers() {
            localStorage.setItem('c-square-team', JSON.stringify(teamMembers));
        }

        function addEvent() {
            const type = document.getElementById('eventType').value;
            const date = document.getElementById('eventDate').value;
            const title = document.getElementById('eventTitle').value;
            const description = document.getElementById('eventDescription').value;
            const link = document.getElementById('eventLink').value;
            const linkText = document.getElementById('eventLinkText').value;

            if (!date || !title || !description) {
                alert('Please fill in all fields');
                return;
            }

            const event = { type, date, title, description };
            if (link) {
                event.link = link;
                event.linkText = linkText || 'Learn More';
            }

            events.push(event);
            saveEvents();
            renderEvents();

            // Clear form
            document.getElementById('eventDate').value = '';
            document.getElementById('eventTitle').value = '';
            document.getElementById('eventDescription').value = '';
            document.getElementById('eventLink').value = '';
            document.getElementById('eventLinkText').value = '';
        }

        function addTeamMember() {
            const name = document.getElementById('memberName').value;
            const position = document.getElementById('memberPosition').value;
            const bio = document.getElementById('memberBio').value;
            const initials = document.getElementById('memberInitials').value;
            const photo = document.getElementById('teamPhoto').value; // Get the photo URL

            if (!name || !position || !bio || !initials) {
                alert('Please fill in all fields');
                return;
            }

            teamMembers.push({ name, position, bio, initials, photo }); // Add photo to the team member object
            saveTeamMembers();
            renderTeamMembers();

            // Clear form
            document.getElementById('memberName').value = '';
            document.getElementById('memberPosition').value = '';
            document.getElementById('memberBio').value = '';
            document.getElementById('memberInitials').value = '';
            document.getElementById('teamPhoto').value = ''; // Clear the photo input
        }

        function deleteEvent(index) {
            if (confirm('Are you sure you want to delete this event?')) {
                events.splice(index, 1);
                saveEvents();
                renderEvents();
            }
        }

        function deleteTeamMember(index) {
            if (confirm('Are you sure you want to delete this team member?')) {
                teamMembers.splice(index, 1);
                saveTeamMembers();
                renderTeamMembers();
            }
        }

        function renderEvents() {
            const eventsList = document.getElementById('eventsList');
            eventsList.innerHTML = events.map((event, index) => `
                <div class="item-card">
                    <div class="item-info">
                        <div class="item-title">${event.title}</div>
                        <div class="item-details">${event.date} ‚Ä¢ ${event.type}</div>
                        <div class="item-details">${event.description}</div>
                        ${event.link ? `<div class="item-details" style="color: #00ffff;">üîó <a href="${event.link}" target="_blank" style="color: #00ffff;">${event.linkText || 'Learn More'}</a></div>` : ''}
                    </div>
                    <div class="item-actions">
                        <button class="btn-small btn-danger" onclick="deleteEvent(${index})">Delete</button>
                    </div>
                </div>
            `).join('');
        }

        function renderTeamMembers() {
            const teamList = document.getElementById('teamList');
            teamList.innerHTML = teamMembers.map((member, index) => `
                <div class="item-card">
                    <div class="item-info">
                        <div class="item-title">${member.name} (${member.initials})${member.photo ? ` <img src="${member.photo}" alt="${member.name}'s photo" style="width: 30px; height: 30px; border-radius: 50%; vertical-align: middle; margin-left: 10px;" onerror="this.style.display='none'">` : ''}</div>
                        <div class="item-details">${member.position}</div>
                        <div class="item-details">${member.bio}</div>
                    </div>
                    <div class="item-actions">
                        <button class="btn-small btn-danger" onclick="deleteTeamMember(${index})">Delete</button>
                    </div>
                </div>
            `).join('');
        }

        function exportEvents() {
            const data = JSON.stringify(events, null, 2);
            navigator.clipboard.writeText(data).then(() => {
                alert('Events data copied to clipboard!');
            }).catch(() => {
                prompt('Copy this data:', data);
            });
        }

        function exportTeamMembers() {
            const data = JSON.stringify(teamMembers, null, 2);
            navigator.clipboard.writeText(data).then(() => {
                alert('Team data copied to clipboard!');
            }).catch(() => {
                prompt('Copy this data:', data);
            });
        }

        function exportAllData() {
            const allData = {
                events: events,
                teamMembers: teamMembers,
                lastUpdated: new Date().toISOString()
            };
            const data = JSON.stringify(allData, null, 2);
            navigator.clipboard.writeText(data).then(() => {
                alert('All data copied to clipboard! You can now update your main website.');
            }).catch(() => {
                prompt('Copy this data:', data);
            });
        }

        function clearAllData() {
            if (confirm('‚ö†Ô∏è This will delete ALL data! Are you sure?')) {
                if (confirm('This action cannot be undone. Continue?')) {
                    localStorage.removeItem('c-square-events');
                    localStorage.removeItem('c-square-team');
                    events = [];
                    teamMembers = [];
                    renderEvents();
                    renderTeamMembers();
                    alert('All data cleared!');
                }
            }
        }

        // Initial render
        renderEvents();
        renderTeamMembers();
    </script>
</body>
</html>
